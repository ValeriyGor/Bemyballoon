$(function() {
    $(document).on("click", ".product-list__favorite, .product-list__wichlist", function(t) {
        t.preventDefault(), $(this).toggleClass("active")
    }), 

    $(document).on("click", ".weight-item__image", function(t) {
        t.preventDefault(), $(this).parent().toggleClass("active");
        countallweight();
    }), 

    $(document).on("click", ".order-products__delete", function(t) {
        t.preventDefault(), $(this).closest(".product-list__item").remove()
    }), 

    $(".weight-item__button--add").on('click',function(event) {
        event.preventDefault();
        event.stopPropagation();
        var count = $(this).parent().next().children(".weight-item__counter").text();
        count++;
        $(this).parent().next().children(".weight-item__counter").text(count);
        countallweight();
    }), 
    $(".weight-item__button--remove").on('click',function(event) {
        event.preventDefault();
        event.stopPropagation();
        var count = $(this).parent().next().children(".weight-item__counter").text();
        if(count > 1)
        count--;
        $(this).parent().next().children(".weight-item__counter").text(count);
        countallweight();
    }), 

    $(document).on("click", ".questions .questions__link", function(t) {
        t.preventDefault();
        var e = $(this).closest("li"),
            o = e.find(".questions__raw");
        if (0 == o.length) return !1;
        e.hasClass("active") ? (e.removeClass("active"), o.stop().slideUp()) : (e.addClass("active"), o.stop().slideDown(), $(document).mouseup(function(t) {
            0 === e.has(t.target).length && (e.removeClass("active"), o.stop().slideUp())
        }))
    }), $(document).on("click", ".order-products-buttons a", function(t) {
        t.preventDefault(), $(this).toggleClass("active")
    }), $(document).on("click", ".complete-order__button", function(t) {
        t.preventDefault(), $("#select-weight").modal("show")
    })
});

function countallweight(){
    var counter = 0;
    $('.weight-item.active .weight-item__counter').each(function( index ) {
      counter += parseInt($(this).text());
    });
    $('#all-counter').text(counter);
}