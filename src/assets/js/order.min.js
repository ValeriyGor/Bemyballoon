$(function() {
    function t() {
        var e = $(".select-weight-modal__list");
        window.matchMedia("(max-width: 767px)").matches ? e.hasClass("slick-initialized") ? e.slick("refresh") : e.slick({
            dots: !1,
            arrows: !1,
            infinite: !0,
            slidesToShow: 3,
            centerMode: !0,
            centerPadding: "100px",
            variableWidth: !0
        }) : e.hasClass("slick-initialized") && e.slick("unslick")
    }
    $(document).on("click", ".product-list__favorite, .product-list__wichlist", function(t) {
        t.preventDefault(), $(this).toggleClass("active")
    }), 

    $(document).on("click", ".weight-item__image", function(t) {
        t.preventDefault(), $(this).parent().toggleClass("active");
        countallweight();
    }), 

    $(document).on("click", ".order-products__delete", function(t) {
        t.preventDefault(), $(this).closest(".product-list__item").remove()
    }), 

    $(".weight-item__button--add").on('click',function(event) {
        if(!($(this).parent().parent().hasClass('active'))){
            $(this).parent().parent().addClass('active');
        }
        event.preventDefault();
        event.stopPropagation();
        var count = $(this).parent().next().children(".weight-item__counter").text();
        count++;
        $(this).parent().next().children(".weight-item__counter").text(count);
        countallweight();
    }), 
    $(".weight-item__button--remove").on('click',function(event) {
        if(!($(this).parent().parent().hasClass('active'))){
            $(this).parent().parent().addClass('active');
        }
        event.preventDefault();
        event.stopPropagation();
        var count = $(this).parent().next().children(".weight-item__counter").text();
        if(count > 1)
        count--;
        $(this).parent().next().children(".weight-item__counter").text(count);
        countallweight();
    }), 
    $(document).on("click", ".questions .questions__link", function(e) {
        e.preventDefault();
        var t = $(this).closest("li"),
            i = t.find(".questions__raw");
        if (0 == i.length) return !1;
        t.hasClass("active") ? (t.removeClass("active"), i.stop().slideUp()) : (t.addClass("active"), i.stop().slideDown(), $(document).mouseup(function(e) {
            0 === t.has(e.target).length && (t.removeClass("active"), i.stop().slideUp())
        }))
    }), $(document).on("click", ".order-products-buttons a", function(e) {
        e.preventDefault(), $(this).toggleClass("active")
    }), $(document).on("click", ".complete-order__button, .choose__weight", function(e) {
        e.preventDefault(), $("#select-weight").modal("show"), t()
    }), $(document).on("click", ".available-options .available-options__main-link", function(e) {
        e.preventDefault();
        var t = $(this).closest(".available-options"),
            i = t.find(".available-options__list");
        t.hasClass("active") ? (t.removeClass("active"), i.stop().slideUp()) : (t.addClass("active"), i.stop().slideDown())
    }), t(), $(window).resize(function() {
        t()
    });
    if($('.js-switch').length){
        var e = document.querySelector(".js-switch");
        new Switchery(e, {
            color: "#e3a3cc"
        })
    }



});





function countallweight(){
    var counter = 0;
    $('.weight-item.active .weight-item__counter').each(function( index ) {
      counter += parseInt($(this).text());
    });
    $('#all-counter').text(counter);
}